@if (seaInfo && questions.length > 0) {
<div id="quiz-container" class="container my-5 px-0">
  <div class="row">
    <!-- LINKE SPALTE – Quizfragen -->
    <div class="col-lg-7 col-md-12 mb-4">
      <h2 class="quiz-title animals-header mb-3">Quiz zum {{ seaInfo.name }}</h2>

      <!-- Quizfragen -->
      <form>
        @for (q of questions; let qi = $index; track qi) {
        <div class="quiz-question-box mb-4">
          <p class="quiz-question">{{ qi + 1 }}. {{ q.question }}</p>

          <div class="quiz-options">
            @for (option of q.options; let oi = $index; track oi) {
            <label class="quiz-option" [ngClass]="getOptionClass(qi, oi)">
              <input
                type="radio"
                [name]="'question-' + qi"
                [value]="oi"
                [(ngModel)]="userAnswers[qi]"
                [disabled]="checked"
              />
              <span>{{ option }}</span>
            </label>
            }
          </div>
        </div>
        }
      </form>
    </div>

    <!-- RECHTE SPALTE – Sticky Bereich mit Ergebnis + Buttons -->
    <div class="col-lg-5 col-md-12">
      <div class="quiz-result-wrapper">
        @if (checked) {
        <div class="quiz-result-card p-4">
          <h3 class="quiz-result-title">Dein Ergebnis</h3>

          <div>
            <div class="text-center">
              <div class="quiz-score-number">{{ correctCount }} / {{ questions.length }}</div>

              <div class="quiz-progress">
                <div
                  class="quiz-progress-bar"
                  [style.width.%]="(correctCount / questions.length) * 100"
                ></div>
              </div>
            </div>

            <h3 class="quiz-result__subtitle mt-3">
              {{ resultTexts[correctCount] }}
            </h3>
          </div>
        </div>
        }

        <!-- Buttons immer sichtbar, unterhalb des (evtl.) Ergebnisses -->
        <br /><br /><br />
        <div class="quiz-actions d-flex flex-column flex-sm-row gap-2">
          <button
            type="button"
            class="btn btn-primary btn-lg flex-fill"
            (click)="checkAnswers()"
            [disabled]="checked"
          >
            Prüfen
          </button>

          <button type="button" class="btn btn-primary btn-lg flex-fill" (click)="goBack()">
            Zurück
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
}
<!-- Fallback -->
@if (questions.length === 0) {
<div class="container my-5 px-0">
  <p>Lade Quizdaten...</p>
</div>
}
