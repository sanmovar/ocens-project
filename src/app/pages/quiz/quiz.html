<div class="container my-5 px-0" *ngIf="seaInfo && questions.length > 0">
  <div class="row">
    <!-- LINKE SPALTE – Quizfragen -->
    <div class="col-lg-7 col-md-12 mb-4">
      <h2 class="quiz-title animals-header mb-3">Quiz zum {{ seaInfo.name }}</h2>

      <!-- Quizfragen -->
      <form>
        <div class="quiz-question-box mb-4" *ngFor="let q of questions; let i = index">
          <p class="quiz-question">{{ i + 1 }}. {{ q.question }}</p>

          <div class="quiz-options">
            <label
              class="quiz-option"
              [ngClass]="getOptionClass(i, optIndex)"
              *ngFor="let option of q.options; let optIndex = index"
            >
              <input
                type="radio"
                [name]="'question-' + i"
                [value]="optIndex"
                [(ngModel)]="userAnswers[i]"
                [disabled]="checked"
              />
              <span>{{ option }}</span>
            </label>
          </div>
        </div>

        <!-- Prüfen-Button -->
        <button
          type="button"
          class="btn btn-primary btn-lg w-50 mt-3"
          (click)="checkAnswers()"
          [disabled]="checked"
        >
          Prüfen
        </button>
      </form>
    </div>

    <!-- RECHTE SPALTE – Sticky Ergebnis -->
    <div class="col-lg-5 col-md-12">
      <div class="quiz-result-wrapper" *ngIf="checked">
        <div class="quiz-result-card p-4">
          <h3 class="quiz-result-title">Dein Ergebnis</h3>

          <div class="quiz-result__content">
            <div class="quiz-result__score text-center">
              <div class="quiz-score-number">{{ correctCount }} / {{ questions.length }}</div>

              <div class="quiz-progress">
                <div
                  class="quiz-progress-bar"
                  [style.width.%]="(correctCount / questions.length) * 100"
                ></div>
              </div>
            </div>

            <h3 class="quiz-result__subtitle mt-3">
              {{ resultTexts[correctCount] }}
            </h3>
          </div>
        </div>

        <!-- Zurück -->
        <button type="button" class="btn btn-primary btn-lg w-50 mt-3" (click)="goBack()">
          Zurück
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Fallback -->
<div class="container my-5 px-0" *ngIf="questions.length === 0">
  <p>Lade Quizdaten...</p>
</div>
