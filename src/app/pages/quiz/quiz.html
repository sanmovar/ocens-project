<div class="container my-5 px-0" *ngIf="questions && questions.length; else loading">
  <div class="row">
    <!-- LINKE SPALTE: Fragen -->
    <div class="col-lg-7 col-md-12 mb-4">
      <h2 class="animals-title animals-header mb-3">Quiz zum {{ seaInfo?.name || 'Meer' }}</h2>

      <form>
        <div class="quiz-question-card mb-3" *ngFor="let q of questions; let i = index">
          <div class="quiz-question-header">
            <span class="quiz-question-number">Frage {{ i + 1 }}</span>
            <h3 class="quiz-question-text">
              {{ q.question }}
            </h3>
          </div>

          <div class="quiz-answer-list">
            <label class="quiz-answer-option" *ngFor="let answer of q.answers; let j = index">
              <input
                type="radio"
                class="quiz-answer-radio"
                name="question{{ i }}"
                [value]="j"
                [(ngModel)]="userAnswers[i]"
              />
              <span class="quiz-answer-text">{{ answer }}</span>
            </label>
          </div>
        </div>

        <!-- Buttons unten links -->
        <div class="d-flex justify-content-between mt-4">
          <button type="button" class="btn btn-outline-primary btn-lg px-4 w-25" (click)="goBack()">
            Zurück
          </button>

          <button type="button" class="btn btn-primary btn-lg px-4 w-25" (click)="checkAnswers()">
            Prüfen
          </button>
        </div>
      </form>
    </div>

    <!-- RECHTE SPALTE: Ergebnis-Card -->
    <div class="col-lg-5 col-md-12">
      <div class="quiz-result-card p-4">
        <h2 class="quiz-result__title mb-3">Dein Ergebnis</h2>

        <p class="quiz-result__hint" *ngIf="!checked">
          Beantworte die Fragen links und klicke auf <strong>„Prüfen“</strong>, um zu sehen, wie
          viele Antworten richtig sind.
        </p>

        <ng-container *ngIf="checked">
          <p class="quiz-result__score mb-2">
            Du hast
            <strong>{{ correctCount }} von {{ questions.length }}</strong>
            Fragen richtig beantwortet.
          </p>
          <p class="quiz-result__text">
            {{ resultText }}
          </p>
        </ng-container>

        <!-- Zurück-Button unten rechts -->
        <button type="button" class="btn btn-secondary btn-lg mt-4 w-100" (click)="goBack()">
          Zurück
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Fallback / Ladeanzeige -->
<ng-template #loading>
  <div class="container my-5 px-0">
    <p>Lade Quizdaten...</p>
  </div>
</ng-template>
